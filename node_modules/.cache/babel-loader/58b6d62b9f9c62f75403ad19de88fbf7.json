{"ast":null,"code":"import _toConsumableArray from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jwleong/final-backend/react-front/src/pages/PhotoPage.js\";\nimport React from 'react';\nimport { Card, Button, CardImg, CardImgOverlay } from 'reactstrap';\nimport axios from 'axios';\n\nvar PhotoPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PhotoPage, _React$Component);\n\n  function PhotoPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PhotoPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PhotoPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      constraints: {\n        audio: false,\n        video: {\n          width: 400,\n          height: 300\n        }\n      },\n      filter: 'none',\n      width: 400,\n      height: 300,\n      images: [],\n      success: [],\n      errors: []\n    };\n\n    _this.takePicture = function () {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height,\n          filter = _this$state.filter; // Create canvas\n\n      var canvas = document.querySelector('canvas');\n      var video = document.querySelector('video'); // const photos = document.getElementById('photos');          \n\n      var context = canvas.getContext('2d'); // set canvas props\n\n      canvas.width = width;\n      canvas.height = height; // Draw an image of the video on the canvas\n\n      if (filter !== undefined) {\n        // Set image filter\n        context.filter = filter; // Create image from the canvas\n\n        context.drawImage(video, 0, 0, width, height); // create image url\n\n        var imgUrl = canvas.toDataURL('image/png'); // Set img src\n\n        console.log(imgUrl);\n        var image = {\n          imgUrl: imgUrl\n        };\n\n        var album = _toConsumableArray(_this.state.images); // Add image to album\n\n\n        album.push(image);\n\n        _this.setState({\n          images: album\n        });\n      }\n    };\n\n    _this.filterChange = function (e) {\n      e.preventDefault();\n      var video = document.querySelector('video');\n      console.log(e.target.value);\n      var photoFilter = e.target.value;\n      video.style.filter = photoFilter;\n\n      _this.setState({\n        filter: photoFilter\n      });\n    };\n\n    _this.clearButton = function () {\n      var video = document.querySelector('video');\n      var photoFilter = document.getElementById('photo-filter'); // Reset select list\n\n      photoFilter.selectedIndex = 0; // Set video filter\n\n      video.style.filter = 'none';\n\n      _this.setState({\n        // Clear photos\n        images: [],\n        // Change filter back to none\n        filter: video.style.filter\n      });\n    };\n\n    _this.handleUpload = function (event) {\n      event.preventDefault();\n      console.log(event.target.value);\n\n      user: JSON.parse(localStorage.me);\n\n      console.log(_this.state.user);\n      axios({\n        method: 'post',\n        url: 'http://localhost:5000/api/v1/images/upload',\n        data: {\n          url: event.target.value,\n          userid: _this.state.user\n        }\n      }).then(function (response) {\n        // debugger\n        console.log(response); // localStorage.setItem('me', JSON.stringify(response.data));\n        // setTimeout(this.props.toggle,1000);;\n\n        _this.setState({\n          success: response.data.message\n        });\n      }).catch(function (error) {\n        // debugger\n        _this.setState({\n          errors: error.response.data.message\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PhotoPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      navigator.mediaDevices.getUserMedia(this.state.constraints).then(function (stream) {\n        var video = document.querySelector('video');\n        video.srcObject = stream;\n        video.play();\n      }).catch(function (err) {\n        console.log(\"Error: \".concat(err));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var images = this.state.images;\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"top-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"video\", {\n        className: \"my-video\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Stream not available...\"), React.createElement(\"button\", {\n        id: \"photo-button\",\n        className: \"btn btn-dark\",\n        ref: function ref(_ref) {\n          _this2.photoButton = _ref;\n        },\n        onClick: this.takePicture,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Take Photo\"), React.createElement(\"select\", {\n        id: \"photo-filter\",\n        className: \"select\",\n        onChange: this.filterChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Normal\"), React.createElement(\"option\", {\n        value: \"grayscale(100%)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Grayscale\"), React.createElement(\"option\", {\n        value: \"sepia(100%)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Sepia\"), React.createElement(\"option\", {\n        value: \"invert(100%)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Invert\"), React.createElement(\"option\", {\n        value: \"hue-rotate(90deg)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Hue\"), React.createElement(\"option\", {\n        value: \"blur(5px)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Blur\"), React.createElement(\"option\", {\n        value: \"contrast(200%)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Contrast\"), React.createElement(\"option\", {\n        value: \"contrast(100%) brightness(150%)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Brightness\")), React.createElement(\"button\", {\n        id: \"clear-button\",\n        className: \"btn btn-light\",\n        onClick: this.clearButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Clear\"), React.createElement(\"canvas\", {\n        id: \"canvas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"bottom-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, images.map(function (images, index) {\n        return React.createElement(Card, {\n          inverse: true,\n          key: index,\n          style: {\n            width: '50%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(CardImg, {\n          src: images.imgUrl,\n          alt: images.imgUrl,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }), React.createElement(CardImgOverlay, {\n          className: \"d-flex align-items-end\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: images.imgUrl,\n          download: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(Button, {\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"Download\")), React.createElement(Button, {\n          color: \"success\",\n          onClick: _this2.handleUpload,\n          value: images.imgUrl,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \"Save\")));\n      })));\n    }\n  }]);\n\n  return PhotoPage;\n}(React.Component);\n\nexport { PhotoPage as default };","map":{"version":3,"sources":["/Users/jwleong/final-backend/react-front/src/pages/PhotoPage.js"],"names":["React","Card","Button","CardImg","CardImgOverlay","axios","PhotoPage","state","constraints","audio","video","width","height","filter","images","success","errors","takePicture","canvas","document","querySelector","context","getContext","undefined","drawImage","imgUrl","toDataURL","console","log","image","album","push","setState","filterChange","e","preventDefault","target","value","photoFilter","style","clearButton","getElementById","selectedIndex","handleUpload","event","user","JSON","parse","localStorage","me","method","url","data","userid","then","response","message","catch","error","navigator","mediaDevices","getUserMedia","stream","srcObject","play","err","ref","photoButton","map","index","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Card, Button, CardImg, CardImgOverlay } from 'reactstrap';\nimport axios from 'axios';\n\nexport default class PhotoPage extends React.Component {\n    state = {\n        constraints: { audio: false, video: { width: 400, height: 300 } },\n        filter: 'none',\n        width:400,\n        height:300,\n        images:[],\n        \n        success:[],\n        errors:[]\n    }\n        \n    componentDidMount(){\n        navigator.mediaDevices.getUserMedia(this.state.constraints)\n            .then(stream => {\n                const video = document.querySelector('video');            \n                video.srcObject = stream;\n                video.play();\n            })\n            .catch(function(err) {\n                console.log(`Error: ${err}`);\n            });\n    }\n\n    takePicture = () => {\n        const { width,height,filter} = this.state\n        // Create canvas\n        const canvas = document.querySelector('canvas');\n        const video = document.querySelector('video');  \n        // const photos = document.getElementById('photos');          \n        const context = canvas.getContext('2d');\n        // set canvas props\n        canvas.width = width;\n        canvas.height = height;\n        // Draw an image of the video on the canvas\n        if (filter !== undefined) {\n            // Set image filter\n            context.filter = filter\n            // Create image from the canvas\n            context.drawImage(video, 0, 0, width, height);\n            // create image url\n            const imgUrl = canvas.toDataURL('image/png');\n            // Set img src\n            console.log(imgUrl)\n            const image = {imgUrl:imgUrl}\n            const album = [...this.state.images]\n            // Add image to album\n            album.push(image)\n            this.setState({\n              images: album\n            })\n        }\n    }\n\n    filterChange = (e)=> {\n        e.preventDefault();\n        const video = document.querySelector('video');  \n        console.log(e.target.value)\n        const photoFilter = e.target.value\n        video.style.filter = photoFilter\n        this.setState({\n            filter : photoFilter,\n        })\n    }\n\n    clearButton =()=>{\n        const video = document.querySelector('video');  \n        const photoFilter = document.getElementById('photo-filter');\n        // Reset select list\n        photoFilter.selectedIndex = 0;\n        // Set video filter\n        video.style.filter = 'none';\n        this.setState({\n            // Clear photos\n            images:[],\n            // Change filter back to none\n            filter : video.style.filter\n        })\n    }\n\n    handleUpload=(event)=> {\n        event.preventDefault();\n        console.log(event.target.value)\n        user: JSON.parse(localStorage.me)\n        console.log(this.state.user)\n        axios({\n            method: 'post',\n            url: 'http://localhost:5000/api/v1/images/upload',\n            data: { \n                url: event.target.value,\n                userid : this.state.user,\n            }\n        })\n        .then(response => {\n            // debugger\n            console.log(response);\n            // localStorage.setItem('me', JSON.stringify(response.data));\n            // setTimeout(this.props.toggle,1000);;\n            this.setState({\n                success : response.data.message,\n            })\n        })\n        .catch(error => {\n            // debugger\n            this.setState({\n                errors : error.response.data.message,\n            })\n        })\n    }\n\n    render() {\n        const {images} = this.state\n        return (\n            <>\n                <div className=\"top-container\">\n                    <video className=\"my-video\">Stream not available...</video> \n                    <button id=\"photo-button\" className=\"btn btn-dark\" ref={(ref) =>{this.photoButton = ref;}} onClick={this.takePicture}>\n                    Take Photo\n                    </button>\n                    <select id=\"photo-filter\" className=\"select\" onChange={this.filterChange}>\n                        <option value=\"none\">Normal</option>\n                        <option value=\"grayscale(100%)\">Grayscale</option>\n                        <option value=\"sepia(100%)\">Sepia</option>\n                        <option value=\"invert(100%)\">Invert</option>\n                        <option value=\"hue-rotate(90deg)\">Hue</option>\n                        <option value=\"blur(5px)\">Blur</option>\n                        <option value=\"contrast(200%)\">Contrast</option>\n                        <option value=\"contrast(100%) brightness(150%)\">Brightness</option>\n                    </select>\n                    <button id=\"clear-button\" className=\"btn btn-light\" onClick={this.clearButton}>Clear</button>\n                    <canvas id=\"canvas\"></canvas>\n                </div>\n                <div className=\"bottom-container\">\n                    {\n                    images.map((images, index) =>(\n                        <Card inverse key={index} style={{width:'50%'}}>\n                            <CardImg src={images.imgUrl} alt={images.imgUrl} />\n                            <CardImgOverlay className='d-flex align-items-end'>\n                                <a href={images.imgUrl} download><Button color=\"primary\">Download</Button></a>\n                                <Button color=\"success\" onClick={this.handleUpload} value={images.imgUrl}>Save</Button>\n                            </CardImgOverlay>\n                        </Card>\n                    )\n                    )\n                    }\n                </div>\n            </>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}