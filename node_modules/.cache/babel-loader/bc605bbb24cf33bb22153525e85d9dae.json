{"ast":null,"code":"import _classCallCheck from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jwleong/final-backend/react-front/src/pages/VideoPage.js\";\nimport React from 'react';\nimport MediaHandler from '../components/MediaHandler';\n\nvar VideoPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VideoPage, _React$Component);\n\n  function VideoPage() {\n    var _this;\n\n    _classCallCheck(this, VideoPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VideoPage).call(this));\n    _this.state = {\n      hasMedia: false,\n      otherUserId: null\n    };\n    _this.user = JSON.parse(localStorage.me).user;\n    _this.mediaHandler = new MediaHandler();\n    return _this;\n  }\n\n  _createClass(VideoPage, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      this.mediaHandler.getPermissions().then(function (stream) {\n        _this2.setState({\n          hasMedia: true\n        });\n\n        _this2.user.stream = stream;\n\n        try {\n          _this2.myVideo.srcObject = stream;\n        } catch (e) {\n          _this2.myVideo.src = URL.createObjectURL(stream);\n        }\n\n        _this2.myVideo.play();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"video-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"video\", {\n        className: \"my-video\",\n        ref: function ref(_ref) {\n          _this3.myVideo = _ref;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return VideoPage;\n}(React.Component);\n\nexport { VideoPage as default };","map":{"version":3,"sources":["/Users/jwleong/final-backend/react-front/src/pages/VideoPage.js"],"names":["React","MediaHandler","VideoPage","state","hasMedia","otherUserId","user","JSON","parse","localStorage","me","mediaHandler","getPermissions","then","stream","setState","myVideo","srcObject","e","src","URL","createObjectURL","play","ref","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;;IAGqBC,S;;;;;AACjB,uBAAc;AAAA;;AAAA;;AACV;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,KADD;AAETC,MAAAA,WAAW,EAAE;AAFJ,KAAb;AAIA,UAAKC,IAAL,GAAYC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,EAAxB,EAA4BJ,IAAxC;AAEA,UAAKK,YAAL,GAAoB,IAAIV,YAAJ,EAApB;AARU;AAUb;;;;yCAEmB;AAAA;;AAEhB,WAAKU,YAAL,CAAkBC,cAAlB,GACCC,IADD,CACM,UAAAC,MAAM,EAAI;AACZ,QAAA,MAAI,CAACC,QAAL,CAAc;AAACX,UAAAA,QAAQ,EAAC;AAAV,SAAd;;AACA,QAAA,MAAI,CAACE,IAAL,CAAUQ,MAAV,GAAmBA,MAAnB;;AACA,YAAI;AACA,UAAA,MAAI,CAACE,OAAL,CAAaC,SAAb,GAAyBH,MAAzB;AAEH,SAHD,CAGE,OAAMI,CAAN,EAAQ;AACN,UAAA,MAAI,CAACF,OAAL,CAAaG,GAAb,GAAmBC,GAAG,CAACC,eAAJ,CAAoBP,MAApB,CAAnB;AACH;;AACD,QAAA,MAAI,CAACE,OAAL,CAAaM,IAAb;AACH,OAXD;AAaH;;;6BAIQ;AAAA;;AACL,aACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,SAAS,EAAC,UAAjB;AAA4B,QAAA,GAAG,EAAE,aAACC,IAAD,EAAQ;AAAC,UAAA,MAAI,CAACP,OAAL,GAAeO,IAAf;AAAoB,SAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,CADJ;AAOH;;;;EAxCkCvB,KAAK,CAACwB,S;;SAAxBtB,S","sourcesContent":["import React from 'react';\nimport MediaHandler from '../components/MediaHandler';\n\n\nexport default class VideoPage extends React.Component {\n    constructor() { \n        super();\n        this.state = {\n            hasMedia: false,\n            otherUserId: null\n        }\n        this.user = JSON.parse(localStorage.me).user;\n      \n        this.mediaHandler = new MediaHandler();\n        \n    }\n   \n    componentWillMount(){\n       \n        this.mediaHandler.getPermissions()\n        .then(stream => {\n            this.setState({hasMedia:true});\n            this.user.stream = stream;\n            try {\n                this.myVideo.srcObject = stream;\n          \n            } catch(e){\n                this.myVideo.src = URL.createObjectURL(stream);\n            }\n            this.myVideo.play();\n        })\n     \n    }\n\n  \n\n    render() {\n        return (\n            <div className='App'>\n                <div className=\"video-container\">\n                    <video className=\"my-video\" ref={(ref) =>{this.myVideo = ref;}}></video> \n                </div>\n            </div>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}