{"ast":null,"code":"import _classCallCheck from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jwleong/final-backend/react-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jwleong/final-backend/react-front/src/pages/PhotoPage.js\";\nimport React from 'react';\n\nvar PhotoPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PhotoPage, _React$Component);\n\n  function PhotoPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PhotoPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PhotoPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      constraints: {\n        audio: false,\n        video: {\n          width: 400,\n          height: 300\n        }\n      },\n      filter: null,\n      width: 400,\n      height: 300\n    };\n\n    _this.takePicture = function () {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height; // Create canvas\n\n      var canvas = document.querySelector('canvas');\n      var video = document.querySelector('video');\n      var photos = document.getElementById('photos');\n      var context = canvas.getContext('2d'); // set canvas props\n\n      canvas.width = width;\n      canvas.height = height; // Draw an image of the video on the canvas\n\n      context.drawImage(video, 0, 0, width, height); // Create image from the canvas\n\n      var imgUrl = canvas.toDataURL('image/png'); // Create img element\n\n      var img = document.createElement('img'); // Set img src\n\n      img.setAttribute('src', imgUrl); // Set image filter\n\n      img.style.filter = _this.state.filter; // Add image to photos\n\n      photos.appendChild(img);\n    };\n\n    _this.filterChange = function (e) {\n      e.preventDefault();\n      var video = document.querySelector('video');\n      console.log(e.target.value);\n      var photoFilter = e.target.value;\n      video.style.filter = photoFilter;\n\n      _this.setState({\n        filter: photoFilter\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PhotoPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      navigator.mediaDevices.getUserMedia(this.state.constraints).then(function (stream) {\n        var video = document.querySelector('video');\n        video.srcObject = stream;\n        video.play();\n      }).catch(function (err) {\n        console.log(\"Error: \".concat(err));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"top-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"video\", {\n        className: \"my-video\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Stream not available...\"), React.createElement(\"button\", {\n        id: \"photo-button\",\n        className: \"btn btn-dark\",\n        ref: function ref(_ref) {\n          _this2.photoButton = _ref;\n        },\n        onClick: this.takePicture,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Take Photo\"), React.createElement(\"select\", {\n        id: \"photo-filter\",\n        className: \"select\",\n        onChange: this.filterChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Normal\"), React.createElement(\"option\", {\n        value: \"grayscale(100%)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Grayscale\"), React.createElement(\"option\", {\n        value: \"sepia(100%)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Sepia\"), React.createElement(\"option\", {\n        value: \"invert(100%)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Invert\"), React.createElement(\"option\", {\n        value: \"hue-rotate(90deg)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Hue\"), React.createElement(\"option\", {\n        value: \"blur(5px)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Blur\"), React.createElement(\"option\", {\n        value: \"contrast(200%)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Contrast\"), React.createElement(\"option\", {\n        value: \"contrast(100%) brightness(150%)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Brightness\")), React.createElement(\"button\", {\n        id: \"clear-button\",\n        className: \"btn btn-light\",\n        onClick: this.clear,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Clear\"), React.createElement(\"canvas\", {\n        id: \"canvas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"bottom-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"photos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PhotoPage;\n}(React.Component);\n\nexport { PhotoPage as default };","map":{"version":3,"sources":["/Users/jwleong/final-backend/react-front/src/pages/PhotoPage.js"],"names":["React","PhotoPage","state","constraints","audio","video","width","height","filter","takePicture","canvas","document","querySelector","photos","getElementById","context","getContext","drawImage","imgUrl","toDataURL","img","createElement","setAttribute","style","appendChild","filterChange","e","preventDefault","console","log","target","value","photoFilter","setState","navigator","mediaDevices","getUserMedia","then","stream","srcObject","play","catch","err","ref","photoButton","clear","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\n\nexport default class PhotoPage extends React.Component {\n\n    state = {\n        constraints: { audio: false, video: { width: 400, height: 300 } },\n        filter: null,\n        width:400,\n        height:300\n    }\n        \n    componentDidMount(){\n        navigator.mediaDevices.getUserMedia(this.state.constraints)\n            .then(stream => {\n                const video = document.querySelector('video');            \n                video.srcObject = stream;\n                video.play();\n            })\n            .catch(function(err) {\n                console.log(`Error: ${err}`);\n            });\n    }\n\n    takePicture = () => {\n        const { width,height} = this.state\n        // Create canvas\n        const canvas = document.querySelector('canvas');\n        const video = document.querySelector('video');  \n        const photos = document.getElementById('photos');          \n        const context = canvas.getContext('2d');\n        // set canvas props\n        canvas.width = width;\n        canvas.height = height;\n        // Draw an image of the video on the canvas\n        context.drawImage(video, 0, 0, width, height);\n        // Create image from the canvas\n        const imgUrl = canvas.toDataURL('image/png');\n        // Create img element\n        const img = document.createElement('img');\n\n        // Set img src\n        img.setAttribute('src', imgUrl);\n\n        // Set image filter\n        img.style.filter = this.state.filter;\n\n        // Add image to photos\n        photos.appendChild(img);\n    }\n    filterChange = (e)=> {\n        e.preventDefault();\n        const video = document.querySelector('video');  \n        console.log(e.target.value)\n        const photoFilter = e.target.value\n        video.style.filter = photoFilter\n        this.setState({\n            filter : photoFilter,\n        })\n    }\n\n\n    render() {\n        return (\n            <>\n                <div className=\"top-container\">\n                    <video className=\"my-video\">Stream not available...</video> \n                    <button id=\"photo-button\" className=\"btn btn-dark\" ref={(ref) =>{this.photoButton = ref;}} onClick={this.takePicture}>\n                    Take Photo\n                    </button>\n                    <select id=\"photo-filter\" className=\"select\" onChange={this.filterChange}>\n                        <option value=\"none\">Normal</option>\n                        <option value=\"grayscale(100%)\">Grayscale</option>\n                        <option value=\"sepia(100%)\">Sepia</option>\n                        <option value=\"invert(100%)\">Invert</option>\n                        <option value=\"hue-rotate(90deg)\">Hue</option>\n                        <option value=\"blur(5px)\">Blur</option>\n                        <option value=\"contrast(200%)\">Contrast</option>\n                        <option value=\"contrast(100%) brightness(150%)\">Brightness</option>\n                        {/* <option value=\"brightness(0.50)\">Brightness</option> */}\n                        \n                    </select>\n                    <button id=\"clear-button\" className=\"btn btn-light\" onClick={this.clear}>Clear</button>\n                    <canvas id=\"canvas\"></canvas>\n                </div>\n                <div className=\"bottom-container\">\n                    <div id=\"photos\"></div>\n                </div>\n            </>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}